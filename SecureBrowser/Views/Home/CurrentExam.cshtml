@{
    ViewData["Title"] = "CurrentExam";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row justify-content-center">
    <div class="col-lg-12 col-11 mt-3">
        <div class="row justify-content-center mt-5 text-center border-16 bg-blue-light p-5 h-90">
            <div class="col-12 vh-100 d-none">
                <video id="crrVideo" class="d-none" autoplay></video>
                <canvas id="crrCanvas" class="d-none"></canvas>
            </div>

            <div class="col-12" style="height: 100%">
                <h3 class="font-weight-bold">@ViewBag.SelectedExam.Name</h3>
                <div class="indicator">loading..</div>

            </div>

            <div class="col-12 my-2 border-12 p-0 overflow-hidden vh-100" style="overflow:hidden">
                <webview id="foo" src="@ViewBag.SelectedExam.Link" style="display:inline-flex; width:100%; height:100%; border-radius: 18px;"></webview>
            </div>

        </div>
    </div>
</div>


@section Scripts{
<script>
    onload = () => {
      const webview = document.querySelector('webview')
      const indicator = document.querySelector('.indicator')

      const loadstart = () => {
        indicator.innerText = 'loading...'
      }

      const loadstop = () => {
        indicator.innerText = ''
      }

      webview.addEventListener('did-start-loading', loadstart)
      webview.addEventListener('did-stop-loading', loadstop)
    }

</script>
}